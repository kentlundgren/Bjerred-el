<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datahantering - Elenergif√∂rbrukning Bjerreds Saltsj√∂bad</title>
    <style>
        /* CSS-variabler f√∂r konsekvent f√§rgtema */
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --background-color: #ecf0f1;
            --card-background: #ffffff;
            --text-color: #2c3e50;
            --border-color: #bdc3c7;
            --input-bg: #fffacd; /* Gul bakgrund f√∂r inmatningsf√§lt enligt anv√§ndarens regel */
        }

        /* Grundl√§ggande styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Huvudrubrik */
        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2.2em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        /* Infobox */
        .info-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .info-box p {
            margin: 5px 0;
        }

        /* Knappar */
        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0,0,0,0.2);
        }

        button.success {
            background-color: #27ae60;
        }

        button.success:hover {
            background-color: #229954;
        }

        button.danger {
            background-color: var(--accent-color);
        }

        button.danger:hover {
            background-color: #c0392b;
        }

        /* Tabellcontainer */
        .table-container {
            background: var(--card-background);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow-x: auto;
            margin-bottom: 30px;
        }

        /* Tabellstyling */
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            padding: 12px 8px;
            text-align: left;
            position: sticky;
            top: 0;
            z-index: 10;
            font-size: 14px;
        }

        td {
            padding: 10px 8px;
            border-bottom: 1px solid var(--border-color);
        }

        /* VIKTIGT: Gul bakgrund f√∂r alla inmatningsf√§lt enligt anv√§ndarens regel 18 */
        input[type="text"],
        input[type="number"],
        select {
            background-color: var(--input-bg); /* Gul bakgrund */
            border: 2px solid #daa520;
            padding: 8px;
            border-radius: 4px;
            width: 100%;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: var(--secondary-color);
            background-color: #ffffe0; /* Ljusare gul vid fokus */
        }

        /* Sm√• inputf√§lt f√∂r numeriska v√§rden */
        .small-input {
            width: 90px;
        }

        .medium-input {
            width: 120px;
        }

        /* Alternerande radf√§rger */
        tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tbody tr:hover {
            background-color: #e8f4f8;
        }

        /* Output-sektion f√∂r genererad kod */
        .output-section {
            background: var(--card-background);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .output-section h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        #output {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre;
            max-height: 500px;
            overflow-y: auto;
        }

        /* Meddelanden */
        .message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        .message.success {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        /* Responsiv design */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5em;
            }

            button {
                padding: 10px 15px;
                font-size: 14px;
            }

            /* Responsiv nav-bar f√∂r mobila enheter */
            .nav-bar {
                flex-direction: column;
                text-align: center;
                padding: 15px;
            }

            .nav-links {
                justify-content: center;
                width: 100%;
            }

            .nav-bar a {
                font-size: 14px;
                padding: 8px 12px;
            }
        }

        /* Hj√§lptext */
        .help-text {
            background-color: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .help-text h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .help-text ul {
            margin-left: 20px;
            color: #856404;
        }

        /* Navigeringsbar h√∂gst upp */
        .nav-bar {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 15px 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .nav-bar a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            background-color: rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-bar a:hover {
            background-color: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .nav-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-title {
            color: white;
            font-weight: 600;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigeringsbar -->
        <nav class="nav-bar">
            <span class="nav-title">üìù Datahantering</span>
            <div class="nav-links">
                <a href="index.html">üìä Visa Statistik</a>
                <a href="https://github.com/kentlundgren/Bjerred-el" target="_blank" rel="noopener noreferrer">üíª GitHub Repo</a>
                <a href="https://kentlundgren.github.io/Bjerred-el/" target="_blank" rel="noopener noreferrer">üåê Live Demo</a>
            </div>
        </nav>

        <h1>üìä Datahantering - Elenergif√∂rbrukning</h1>
        <p class="subtitle">Bjerreds Saltsj√∂bad - Administrativt verktyg</p>

        <!-- Informationsbox -->
        <div class="info-box">
            <p><strong>üí° Detta verktyg l√•ter dig hantera m√•nadsdata f√∂r elenergif√∂rbrukning</strong></p>
            <p>Redigera befintlig data eller l√§gg till nya m√•nader (oktober 2025 - december 2026)</p>
        </div>

        <!-- Hj√§lptext -->
        <div class="help-text">
            <h3>üìñ Instruktioner:</h3>
            <ul>
                <li><strong>Gula f√§lt</strong> = Inmatningsf√§lt d√§r du kan skriva/√§ndra data</li>
                <li>Fyll i alla f√§lt f√∂r varje m√•nad</li>
                <li>Klicka "Ber√§kna och generera kod" n√§r du √§r klar</li>
                <li>Kopiera den genererade koden och klistra in i index.html (ers√§tt den gamla monthlyData-arrayen)</li>
                <li>"L√§gg till ny m√•nad" skapar en tom rad l√§ngst ner</li>
            </ul>
        </div>

        <!-- Meddelande -->
        <div id="message" class="message"></div>

        <!-- Knappar -->
        <div class="button-container">
            <button onclick="addNewMonth()" class="success">‚ûï L√§gg till ny m√•nad</button>
            <button onclick="generateCode()">üîÑ Ber√§kna och generera kod</button>
            <button onclick="resetData()" class="danger">üîÑ √Öterst√§ll till ursprungsdata</button>
        </div>

        <!-- Datatabell -->
        <div class="table-container">
            <h2>üìã M√•nadsdata</h2>
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>M√•nad</th>
                        <th>√Ör</th>
                        <th>Fullst√§ndigt namn</th>
                        <th>Total kWh</th>
                        <th>Dagar i m√•nad</th>
                        <th>kWh/dag</th>
                        <th>Typ av m√•nad</th>
                        <th>Bad (kWh)</th>
                        <th>Restaurang (kWh)</th>
                        <th>Kostnad (kr)</th>
                        <th>kr/kWh</th>
                        <th>√Ötg√§rd</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Fylls med JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Output-sektion -->
        <div class="output-section">
            <h2>üíª Genererad JavaScript-kod</h2>
            <p style="margin-bottom: 15px; color: #7f8c8d;">
                Kopiera koden nedan och ers√§tt "const monthlyData = [...]" i index.html
            </p>
            <button onclick="copyToClipboard()" style="margin-bottom: 15px;">üìã Kopiera kod</button>
            <div id="output">// Klicka p√• "Ber√§kna och generera kod" f√∂r att generera JavaScript-kod</div>
        </div>
    </div>

    <script>
        // ====================================
        // URSPRUNGLIG DATA fr√•n index.html
        // ====================================
        // H√§r √§r all befintlig data fr√•n augusti 2024 till januari 2026
        // UPPDATERING 2026-01: Lagt till data f√∂r oktober-december 2025
        // UPPDATERING 2026-02: Lagt till data f√∂r januari 2026 (kostnad uppskattat)
        const originalData = [
            { month: "Aug", year: 2024, fullMonth: "Augusti 2024", totalKWh: 19901, daysInMonth: 31, kwhPerDay: 642, type: "Restaurang och bad", bad: 8262, restaurant: 11639, cost: 34472, costPerKwh: 1.73 },
            { month: "Sep", year: 2024, fullMonth: "September 2024", totalKWh: 19271, daysInMonth: 30, kwhPerDay: 642, type: "Restaurang och bad", bad: 8273, restaurant: 10998, cost: 30158, costPerKwh: 1.56 },
            { month: "Okt", year: 2024, fullMonth: "Oktober 2024", totalKWh: 19224, daysInMonth: 31, kwhPerDay: 620, type: "Restaurang och bad", bad: 12308, restaurant: 6916, cost: 29882, costPerKwh: 1.55 },
            { month: "Nov", year: 2024, fullMonth: "November 2024", totalKWh: 22849, daysInMonth: 30, kwhPerDay: 759, type: "Restaurang och bad", bad: 8010, restaurant: 14839, cost: 51492, costPerKwh: 2.26 },
            { month: "Dec", year: 2024, fullMonth: "December 2024", totalKWh: 24264, daysInMonth: 30, kwhPerDay: 809, type: "Restaurang och bad", bad: 14338, restaurant: 9926, cost: 50672, costPerKwh: 2.09 },
            { month: "Jan", year: 2025, fullMonth: "Januari 2025", totalKWh: 26815, daysInMonth: 31, kwhPerDay: 865, type: "Restaurang och bad", bad: 12250, restaurant: 14565, cost: 58462, costPerKwh: 2.18 },
            { month: "Feb", year: 2025, fullMonth: "Februari 2025", totalKWh: 23229, daysInMonth: 28, kwhPerDay: 830, type: "Badet st√§ngde i februari", bad: 11605, restaurant: 11624, cost: 60285, costPerKwh: 2.60 },
            { month: "Mar", year: 2025, fullMonth: "Mars 2025", totalKWh: 12573, daysInMonth: 31, kwhPerDay: 406, type: "Bara restaurang", bad: 0, restaurant: 12573, cost: 26141, costPerKwh: 2.08 },
            { month: "Apr", year: 2025, fullMonth: "April 2025", totalKWh: 12160, daysInMonth: 30, kwhPerDay: 405, type: "Bara restaurang", bad: 0, restaurant: 12160, cost: 24516, costPerKwh: 2.02 },
            { month: "Maj", year: 2025, fullMonth: "Maj 2025", totalKWh: 11775, daysInMonth: 31, kwhPerDay: 380, type: "Bara restaurang", bad: 0, restaurant: 11775, cost: 23812, costPerKwh: 2.02 },
            { month: "Jun", year: 2025, fullMonth: "Juni 2025", totalKWh: 12073, daysInMonth: 30, kwhPerDay: 402, type: "Bara restaurang", bad: 0, restaurant: 12073, cost: 21763, costPerKwh: 1.80 },
            { month: "Jul", year: 2025, fullMonth: "Juli 2025", totalKWh: 17754, daysInMonth: 31, kwhPerDay: 573, type: "Badet √∂ppnade igen i mitten av juli", bad: 4389, restaurant: 13365, cost: 32490, costPerKwh: 1.83 },
            { month: "Aug", year: 2025, fullMonth: "Augusti 2025", totalKWh: 23379, daysInMonth: 31, kwhPerDay: 754, type: "Restaurang och bad", bad: 11779, restaurant: 11600, cost: 47703, costPerKwh: 2.04 },
            { month: "Sep", year: 2025, fullMonth: "September 2025", totalKWh: 21524, daysInMonth: 30, kwhPerDay: 717, type: "Restaurang och bad", bad: 11236, restaurant: 10288, cost: 45699, costPerKwh: 2.12 },
            { month: "Okt", year: 2025, fullMonth: "Oktober 2025", totalKWh: 23582, daysInMonth: 31, kwhPerDay: 761, type: "Restaurang och bad", bad: 12646, restaurant: 10936, cost: 52459, costPerKwh: 2.22 },
            { month: "Nov", year: 2025, fullMonth: "November 2025", totalKWh: 27433, daysInMonth: 30, kwhPerDay: 914, type: "Restaurang och bad", bad: 16608, restaurant: 10825, cost: 64248, costPerKwh: 2.34 },
            { month: "Dec", year: 2025, fullMonth: "December 2025", totalKWh: 30015, daysInMonth: 31, kwhPerDay: 968, type: "Restaurang och bad", bad: 18602, restaurant: 11413, cost: 62760, costPerKwh: 2.09 },
            { month: "Jan", year: 2026, fullMonth: "Januari 2026", totalKWh: 35422, daysInMonth: 31, kwhPerDay: 1143, type: "Restaurang och bad", bad: 18836, restaurant: 16586, cost: 90779, costPerKwh: 2.56 }
        ];

        // Kopiera ursprungsdata till arbetsdata (currentData anv√§nds f√∂r redigering)
        let currentData = JSON.parse(JSON.stringify(originalData));

        // ====================================
        // FUNKTION: Initiera tabell
        // ====================================
        // Skapar tabellrader baserat p√• currentData
        function initTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            currentData.forEach((data, index) => {
                const row = createTableRow(data, index);
                tbody.appendChild(row);
            });

            showMessage('Tabell laddad!', 'success');
        }

        // ====================================
        // FUNKTION: Skapa tabellrad
        // ====================================
        // Skapar en HTML-tabellrad med inmatningsf√§lt
        function createTableRow(data, index) {
            const row = document.createElement('tr');
            
            row.innerHTML = `
                <td>
                    <select class="small-input" data-index="${index}" data-field="month" onchange="updateData(this)">
                        <option value="Jan" ${data.month === 'Jan' ? 'selected' : ''}>Jan</option>
                        <option value="Feb" ${data.month === 'Feb' ? 'selected' : ''}>Feb</option>
                        <option value="Mar" ${data.month === 'Mar' ? 'selected' : ''}>Mar</option>
                        <option value="Apr" ${data.month === 'Apr' ? 'selected' : ''}>Apr</option>
                        <option value="Maj" ${data.month === 'Maj' ? 'selected' : ''}>Maj</option>
                        <option value="Jun" ${data.month === 'Jun' ? 'selected' : ''}>Jun</option>
                        <option value="Jul" ${data.month === 'Jul' ? 'selected' : ''}>Jul</option>
                        <option value="Aug" ${data.month === 'Aug' ? 'selected' : ''}>Aug</option>
                        <option value="Sep" ${data.month === 'Sep' ? 'selected' : ''}>Sep</option>
                        <option value="Okt" ${data.month === 'Okt' ? 'selected' : ''}>Okt</option>
                        <option value="Nov" ${data.month === 'Nov' ? 'selected' : ''}>Nov</option>
                        <option value="Dec" ${data.month === 'Dec' ? 'selected' : ''}>Dec</option>
                    </select>
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.year}" data-index="${index}" data-field="year" onchange="updateData(this)">
                </td>
                <td>
                    <input type="text" class="medium-input" value="${data.fullMonth}" data-index="${index}" data-field="fullMonth" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.totalKWh}" data-index="${index}" data-field="totalKWh" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.daysInMonth}" data-index="${index}" data-field="daysInMonth" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.kwhPerDay}" data-index="${index}" data-field="kwhPerDay" onchange="updateData(this)" readonly style="background-color: #e0e0e0;">
                </td>
                <td>
                    <input type="text" value="${data.type}" data-index="${index}" data-field="type" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.bad}" data-index="${index}" data-field="bad" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.restaurant}" data-index="${index}" data-field="restaurant" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" class="small-input" value="${data.cost}" data-index="${index}" data-field="cost" onchange="updateData(this)">
                </td>
                <td>
                    <input type="number" step="0.01" class="small-input" value="${data.costPerKwh}" data-index="${index}" data-field="costPerKwh" onchange="updateData(this)" readonly style="background-color: #e0e0e0;">
                </td>
                <td>
                    <button onclick="deleteRow(${index})" class="danger" style="padding: 8px 12px; font-size: 14px;">üóëÔ∏è Ta bort</button>
                </td>
            `;

            return row;
        }

        // ====================================
        // FUNKTION: Uppdatera data
        // ====================================
        // Anropas n√§r anv√§ndaren √§ndrar ett v√§rde i tabellen
        function updateData(element) {
            const index = parseInt(element.dataset.index);
            const field = element.dataset.field;
            let value = element.value;

            // Konvertera till r√§tt datatyp
            if (['totalKWh', 'daysInMonth', 'kwhPerDay', 'bad', 'restaurant', 'cost', 'year'].includes(field)) {
                value = parseInt(value) || 0;
            } else if (field === 'costPerKwh') {
                value = parseFloat(value) || 0;
            }

            // Uppdatera currentData
            currentData[index][field] = value;

            // Automatiska ber√§kningar
            autoCalculate(index);
        }

        // ====================================
        // FUNKTION: Automatiska ber√§kningar
        // ====================================
        // Ber√§knar kWh/dag och kr/kWh automatiskt
        function autoCalculate(index) {
            const data = currentData[index];
            
            // Ber√§kna kWh per dag
            if (data.totalKWh && data.daysInMonth) {
                data.kwhPerDay = Math.round(data.totalKWh / data.daysInMonth);
            }

            // Ber√§kna kostnad per kWh
            if (data.cost && data.totalKWh) {
                data.costPerKwh = parseFloat((data.cost / data.totalKWh).toFixed(2));
            }

            // Uppdatera tabellen
            initTable();
        }

        // ====================================
        // FUNKTION: L√§gg till ny m√•nad
        // ====================================
        // Skapar en tom rad f√∂r en ny m√•nad
        function addNewMonth() {
            const newMonth = {
                month: "Okt",
                year: 2025,
                fullMonth: "Oktober 2025",
                totalKWh: 0,
                daysInMonth: 31,
                kwhPerDay: 0,
                type: "Restaurang och bad",
                bad: 0,
                restaurant: 0,
                cost: 0,
                costPerKwh: 0
            };

            currentData.push(newMonth);
            initTable();
            showMessage('Ny m√•nad tillagd! Fyll i data och klicka "Ber√§kna och generera kod".', 'success');
        }

        // ====================================
        // FUNKTION: Ta bort rad
        // ====================================
        // Tar bort en m√•nad fr√•n listan
        function deleteRow(index) {
            if (confirm('√Ñr du s√§ker p√• att du vill ta bort denna m√•nad?')) {
                currentData.splice(index, 1);
                initTable();
                showMessage('M√•nad borttagen!', 'success');
            }
        }

        // ====================================
        // FUNKTION: √Öterst√§ll data
        // ====================================
        // √Öterst√§ller till ursprunglig data
        function resetData() {
            if (confirm('√Ñr du s√§ker p√• att du vill √•terst√§lla all data till ursprungsl√§get?')) {
                currentData = JSON.parse(JSON.stringify(originalData));
                initTable();
                showMessage('Data √•terst√§lld till ursprungsl√§ge!', 'success');
            }
        }

        // ====================================
        // FUNKTION: Generera JavaScript-kod
        // ====================================
        // Skapar JavaScript-kod som kan kopieras till index.html
        function generateCode() {
            // Sortera data efter √•r och m√•nad
            const monthOrder = {
                'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4, 'Maj': 5, 'Jun': 6,
                'Jul': 7, 'Aug': 8, 'Sep': 9, 'Okt': 10, 'Nov': 11, 'Dec': 12
            };

            currentData.sort((a, b) => {
                if (a.year !== b.year) return a.year - b.year;
                return monthOrder[a.month] - monthOrder[b.month];
            });

            // Generera JavaScript-array
            let code = 'const monthlyData = [\n';
            
            currentData.forEach((data, index) => {
                const isLast = index === currentData.length - 1;
                code += `    { month: "${data.month} ${data.year}", fullMonth: "${data.fullMonth}", totalKWh: ${data.totalKWh}, daysInMonth: ${data.daysInMonth}, kwhPerDay: ${data.kwhPerDay}, type: "${data.type}", bad: ${data.bad}, restaurant: ${data.restaurant}, cost: ${data.cost}, costPerKwh: ${data.costPerKwh} }${isLast ? '' : ','}\n`;
            });

            code += '];';

            // Visa i output
            document.getElementById('output').textContent = code;
            showMessage('Kod genererad! Kopiera koden och klistra in i index.html.', 'success');
        }

        // ====================================
        // FUNKTION: Kopiera till clipboard
        // ====================================
        // Kopierar den genererade koden till urklipp
        function copyToClipboard() {
            const output = document.getElementById('output').textContent;
            
            // Skapa ett tempor√§rt textomr√•de
            const textarea = document.createElement('textarea');
            textarea.value = output;
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy');
                showMessage('Kod kopierad till urklipp!', 'success');
            } catch (err) {
                showMessage('Kunde inte kopiera. Markera och kopiera manuellt.', 'error');
            }
            
            document.body.removeChild(textarea);
        }

        // ====================================
        // FUNKTION: Visa meddelande
        // ====================================
        // Visar ett meddelande till anv√§ndaren
        function showMessage(text, type) {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = `message ${type}`;
            messageDiv.style.display = 'block';

            // D√∂lj meddelandet efter 5 sekunder
            setTimeout(() => {
                messageDiv.style.display = 'none';
            }, 5000);
        }

        // ====================================
        // INITIALISERING
        // ====================================
        // Ladda tabell n√§r sidan laddas
        window.addEventListener('DOMContentLoaded', () => {
            initTable();
        });
    </script>
</body>
</html>
